###########################################################################
### General                                                             ###
###########################################################################

# Set the terminal type
set -g default-terminal "xterm-256color"
# set terminal true color
set -sa terminal-overrides ",xterm-256color:Tc"
# Set size the terminal 
set -g history-limit 2048
# Enable mouse
set -g mouse on
# Set delay config ESC 0ms 
set -s escape-time 0

# Remove associations made with the C-b combination
unbind C-b
# Associate the prefix with the C-a combination
set -g prefix C-a
# Send the prefix key combination to the application
bind-key C-a send-prefix

# Reload combinations
unbind r
bind r source-file ~/.tmux.conf \; display "TMUX Settings Reloaded!"

# Remove associations made with the % combination
unbind %
# Split screen vertical
bind | split-window -h 
# Remove associations
unbind '"'
# Split screen horizontally
bind - split-window -v

# Change the size of the panel
bind -r j resize-pane -D 10
bind -r k resize-pane -U 10
bind -r l resize-pane -R 10
bind -r h resize-pane -L 10
bind -r m resize-pane -Z

##################################################
# Dashboard panel 
##################################################

# Status bar position
set -g status-position top

# Set home window and panes to 1
set -g base-index 1
set -g pane-base-index 1

# Disable automatic renaming
set-option -wg automatic-rename off

# Set vi mode 
set-window-option -g mode-keys vi
set-option -g status-keys vi
# start selecting text with "v"
bind-key -T copy-mode-vi 'v' send -X begin-selection 
# Copy ext with "y"
bind-key -T copy-mode-vi 'y' send -X copy-selection 
# don't exit copy mode after dragging with mouse 
unbind -T copy-mode-vi MouseDragEnd1Pane

### Theme ---------------------- 
set -g @plugin 'tmux-plugins/tpm'
# List of tmux plugins
# To navigate between panels with Ctrl-hjkl
set -g @plugin 'christoomey/vim-tmux-navigator' 
# Configure tmux theme
set -g @plugin 'jimeh/tmux-themepack'

# Persist tmux sessions after computer restart
# set -g @plugin 'tmux-plugins/tmux-resurrect'
# Automatically saves sessions every 15 minutes
set -g @plugin 'tmux-plugins/tmux-continuum' 
# Use this theme for tmux
set -g @themepack 'powerline/default/cyan'
#-------------------------------------------------

### Configure Dracula theme
set -g @plugin 'dracula/tmux'
set -g @dracula-military-time true
# available colors: white, gray, dark_gray, light_purple, dark_purple, cyan, green, orange, red, pink, yellow
# set -g @dracula-[plugin-name]-colors "[background] [foreground]"
set -g @dracula-show-powerline true
set -g @dracula-show-flags true
# it can accept `hostname` (full hostname), `session`, `shortname` (short name), `smiley`, `window`, or any character.
set -g @dracula-show-left-icon session
# available plugins: battery, cpu-usage, git, gpu-usage, ram-usage, tmux-ram-usage, network, network-bandwidth, network-ping, ssh-session, attached-clients, network-vpn, weather, time, mpc, spotify-tui, playerctl, kubernetes-context, synchronize-panes
set -g @dracula-plugins "git cpu-usage ram-usage time network"
set -g @dracula-cpu-usage-colors "orange dark_gray"
set -g @dracula-time-colors "light_purple gray"
set -g @resurrect-capture-pane-contents 'on' # allow tmux-ressurect to capture pane contents
set -g @continuum-restore 'on' # enable tmux-continuum functionality

##### Config colors - variables ####

# color_fg=#7e8187
# color_bg=#2e3137
# color_border_fg=${color_bg}
# color_border_bg=terminal
# color_windows="#[fg=color8,bold,bg=default]"
# color_wcurrent="#[fg=color7,bold,bg=default]"
# color_prefix="#[fg=color5]#[bold]#[bg=default]"
# color_datetime="#[fg=color4,bold,bg=default]"
# color_panes="#[fg=color4,bold,bg=default]"
# color_session="#[fg=color4,bold,bg=default]"
# color_user="#[fg=color4,bold,bg=default]"
# color_host="#[fg=color4]#[bold]#[bg=default]"
# color_reset="#[fg=default]#[bg=default]"

# caracteres de separacao de indicadores (variaveis)...
# ris="${color_reset}>"
# lis="${color_reset}<"

### indicadores (variaveis)...
# ind_prefix="#{?client_prefix, ${color_prefix}PREFIX ${lis},}"
# ind_panes="${color_panes}#P:#{window_panes}"
# ind_date="${color_datetime}%d{%m-%Y${color_reset}"
# ind_time="${color_datetime}%H:%M${color_reset}"
# ind_user="${color_host}#h"

###############

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
